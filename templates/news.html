{% extends 'base.html' %}
{% block body%}
<!-- Buttons section -->
<div class="button-container d-flex justify-content-center mt-4 mb-1">
{% for category in categories %}
    <!-- Business button clicked on load -->
    <!-- onclick js function change the article section depends on the button clicked -->
    {% if category == 'business' %}
        <button class="btn category-button btn-secondary mx-1" data-category="{{ category }}"
                onclick="showSection('{{ category }}')" disabled>
            {{ category.capitalize() }}
        </button>
    {% else %}
        <button class="btn category-button btn-secondary mx-1" data-category="{{ category }}"
                onclick="showSection('{{ category }}')">
            {{ category.capitalize() }}
        </button>
    {% endif %}
{% endfor %}
</div>

<!-- articles sections -->
{% for category in categories %}
<!-- every category have section -->
<section id="{{ category }}" class="mx-0 px-0" style="display: none;">
    <div class="container-fluid px-0">
        <h3 class="text-capitalize ms-4">{{ category }}</h3>
        <div class="container-carousel mt-4">
            <!-- add the articles that relate to that section -->
            {% for article in articles %}
                {% if category in article %}
                    <div class="card col-3 custom-card bg-dark mx-3 my-2">
                    <a href="{{article[5]}}"
                       target="_blank">
                        <img alt="Image"
                             class="card-img-top image" src="{{article[6]}}">
                        <div class="card-title-center bg-dark">
                            <h5 class="small card-title">"{{article[3]}}"</h5>
                        </div>
                        <div class="card-body text-muted bg-dark pt-0">
                            <small>
                                "{{article[4]}}"
                            </small>
                        </div>
                    </a>
                    <div class="card-footer bg-dark">
                        <div class="publisher-date">
                            <span class="date"><i class="bi-calendar me-2"></i>{{article[2]}}</span>
                            <span class="publisher"><i class="bi-person me-2"></i>{{article[7]}}</span>
                        </div>
                        <div class="icons">
                            <div class="mx-2 border-start me-0">
                                <button class="btn btn-dark mx-2" id="{{article[0]}}-book"
                                        onclick="handleBookClick(this)">
                                    {%if article[9] == 0 %}
                                        <i class="bi bi-book"></i>
                                    {%else%}
                                        <i class="bi bi-book-fill"></i>
                                    {%endif%}
                                </button>
                            </div>
                            <div class="mx-2 border-start ms-0">
                                <button class="btn btn-dark mx-2 me-0" id="{{article[0]}}-bookmark"
                                        onclick="handleBookmarkClick(this)">
                                    {%if article[8] == 0 %}
                                        <i class="bi bi-bookmark-plus"></i>
                                    {%else%}
                                        <i class="bi bi-bookmark-fill"></i>
                                    {%endif%}
                                </button>
                            </div>
                        </div>
                    </div>
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</section>
{% endfor %}
{%endblock%}